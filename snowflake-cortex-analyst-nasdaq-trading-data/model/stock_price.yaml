name: stock_price
description: NASDAW Stock Price Information
tables:
  - name: STOCK_PRICE
    base_table:
      database: CORTEX_ANALYST_DB
      schema: DATA
      table: STOCK_PRICE
    dimensions:
      - name: TICKER
        expr: TICKER
        data_type: VARCHAR(16777216)
        sample_values:
          - SSSS
          - ERC
          - MLGO
        description: The stock ticker symbol of the company, used to identify the security on a stock exchange.
        synonyms:
          - stock_symbol
          - company_code
          - security_id
          - instrument_id
          - equity_code
      - name: ASSET_CLASS
        expr: ASSET_CLASS
        data_type: VARCHAR(16777216)
        sample_values:
          - Equity
          - Closed-End Funds
          - ETF-Index Fund Shares
        description: The type of investment vehicle or asset class that the stock belongs to, such as Equity, Closed-End Funds, or Exchange-Traded Funds (ETFs) that track a specific index.
        synonyms:
          - investment_type
          - asset_category
          - security_type
          - financial_instrument
          - investment_category
      - name: PRIMARY_EXCHANGE_CODE
        expr: PRIMARY_EXCHANGE_CODE
        data_type: VARCHAR(16777216)
        sample_values:
          - PSE
          - ASE
          - NAS
        description: The primary exchange on which the stock is listed, such as the Philippine Stock Exchange (PSE), American Stock Exchange (ASE), or NASDAQ (NAS).
        synonyms:
          - exchange_id
          - primary_market_code
          - main_exchange_code
          - stock_exchange_code
          - listing_exchange_code
          - primary_listing_code
      - name: PRIMARY_EXCHANGE_NAME
        expr: PRIMARY_EXCHANGE_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - NYSE ARCA
          - NASDAQ CAPITAL MARKET
        description: The primary exchange where the stock is listed, such as the New York Stock Exchange (NYSE) or NASDAQ.
        synonyms:
          - exchange_name
          - primary_market
          - main_exchange
          - primary_trading_platform
          - main_trading_exchange
          - primary_listing_exchange
          - primary_stock_exchange
    time_dimensions:
      - name: DATE
        expr: DATE
        data_type: DATE
        sample_values:
          - '2023-02-28'
          - '2023-02-14'
          - '2023-08-11'
        description: Date of stock price record.
        synonyms:
          - day
          - timestamp
          - calendar_date
          - datestamp
          - calendar_day
          - day_of_record
    facts:
      - name: VOLUME
        expr: VOLUME
        data_type: FLOAT
        sample_values:
          - '4848'
          - '20059'
          - '20460'
        description: The total number of shares traded for a particular stock on a given day.
        synonyms:
          - trading_volume
          - trade_volume
          - stock_volume
          - shares_traded
          - market_volume
          - daily_volume
          - total_volume
      - name: OPEN_PRICE
        expr: OPEN_PRICE
        data_type: FLOAT
        sample_values:
          - '25.46'
          - '5.47'
          - '16.42'
        description: The opening price of a stock on a given trading day, representing the first price at which the stock was traded when the market opened.
        synonyms:
          - opening_price
          - pre_market_open
          - initial_price
          - morning_open
          - starting_price
          - beginning_price
      - name: LOW_PRICE
        expr: LOW_PRICE
        data_type: FLOAT
        sample_values:
          - '1.94'
          - '31.26'
          - '22.98'
        description: The lowest price of the stock on a given day.
        synonyms:
          - minimum_price
          - lowest_price
          - all_day_low
          - bottom_price
          - cheapest_price
          - lowest_value
      - name: HIGH_PRICE
        expr: HIGH_PRICE
        data_type: FLOAT
        sample_values:
          - '11.92'
          - '23.31'
          - '10.84'
        description: The highest price of the stock on a given trading day.
        synonyms:
          - all_day_high
          - peak_price
          - highest_price
          - maximum_price
          - top_price
          - highest_value
          - max_price
          - price_ceiling
      - name: CLOSE_PRICE
        expr: CLOSE_PRICE
        data_type: FLOAT
        sample_values:
          - '10.01'
          - '84.52'
          - '26.51'
        description: The closing price of a stock on a given trading day, representing the final price at which the stock was traded at the end of the day.
        synonyms:
          - final_price
          - closing_value
          - end_of_day_price
          - market_close
          - settlement_price
          - closing_rate
    metrics:
      - expr: COUNT(DISTINCT TICKER)
        name: STOCK_COUNT
        description: Stock Count
        synonyms:
          - number of tickers
          - ticker count
          - stock total
verified_queries:
  - name: Average Stock Price
    question: What is the average closing price for Apple in 2025?
    use_as_onboarding_question: true
    sql: SELECT AVG(CLOSE_PRICE) FROM STOCK_PRICE WHERE TICKER = 'AAPL' AND YEAR(DATE) = 2025
    verified_by: Douglas Day
    verified_at: 1751821692
  - name: Top 5 Stocks by Volume
    question: Show the top 5 stocks by volume in the last 30 days
    use_as_onboarding_question: false
    sql: SELECT TICKER, SUM(VOLUME) AS TOTAL_VOLUME FROM STOCK_PRICE WHERE DATE >= CURRENT_DATE - 30 GROUP BY TICKER ORDER BY TOTAL_VOLUME DESC LIMIT 5
    verified_by: Douglas Day
    verified_at: 1751821724
  - name: Tesla High Price in January
    question: What was the highest price for Tesla in January 2024?
    use_as_onboarding_question: true
    sql: SELECT MAX(HIGH_PRICE) FROM STOCK_PRICE WHERE TICKER = 'TSLA' AND DATE BETWEEN '2024-01-01' AND '2024-01-31'
    verified_by: Douglas Day
    verified_at: 1751821753
  - name: Best Performing Stock by Return
    question: Which stock had the highest average daily return over the past year?
    use_as_onboarding_question: true
    sql: SELECT TICKER, AVG((CLOSE_PRICE - OPEN_PRICE) / NULLIF(OPEN_PRICE, 0)) AS AVG_RETURN FROM STOCK_PRICE WHERE DATE >= CURRENT_DATE - 365 GROUP BY TICKER ORDER BY AVG_RETURN DESC LIMIT 1
    verified_by: Douglas Day
    verified_at: 1751821775
  - name: Top 10 Most Volatile Stocks by Max Daily Range
    question: Which 10 stocks had the highest daily trading volatility percentage in the last 90 days?
    use_as_onboarding_question: true
    sql: SELECT TICKER, MAX((HIGH_PRICE - LOW_PRICE) / NULLIF(OPEN_PRICE, 0)) AS DAILY_VOLATILITY_PERCENTAGE FROM STOCK_PRICE WHERE DATE >= CURRENT_DATE - 90 GROUP BY TICKER HAVING NOT IS_NULL_VALUE(DAILY_VOLATILITY_PERCENTAGE) ORDER BY DAILY_VOLATILITY_PERCENTAGE DESC LIMIT 10
    verified_by: Douglas Day
    verified_at: 1751821800
custom_instructions: |-
  Any percentages must be displayed in the format: 10.00%
  Any Volume numbers must be formatted as: 1,000
  Any Price numbers must be formatted as: 1,000.00